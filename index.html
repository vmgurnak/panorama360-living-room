<!doctype html>
<html lang="ru">

<head>
   <meta charset="utf-8">
   <title>360 Panorama</title>
   <meta name="viewport" content="width=device-width,initial-scale=1">
   <link rel="stylesheet" href="https://cdn.pannellum.org/2.5/pannellum.css" />
   <style>
      html,
      body {
         margin: 0;
         height: 100%;
         overflow: hidden;
         background: #000;
         touch-action: manipulation;
      }

      #panorama {
         width: 100%;
         height: 100vh;
      }

      /* Панель управления */
      #controls {
         position: absolute;
         top: 50%;
         right: 10px;
         transform: translateY(-50%);
         display: flex;
         flex-direction: column;
         gap: 8px;
         background: rgba(0, 0, 0, 0.3);
         padding: 8px;
         border-radius: 8px;
         z-index: 20;
      }

      #controls button {
         background: rgba(255, 255, 255, 0.8);
         border: none;
         padding: 8px;
         border-radius: 4px;
         cursor: pointer;
         font-size: 16px;
         width: 44px;
         height: 44px;
         display: flex;
         align-items: center;
         justify-content: center;
      }

      #controls button:hover {
         background: rgba(255, 255, 255, 0.4);
         transform: scale(1.05);
      }

      #controls svg {
         width: 24px;
         height: 24px;
         fill: #000;
         display: block;
         margin: auto;
      }

      @media (max-width: 768px) {

         #controls button {
            width: 50px;
            height: 50px;
         }
      }
   </style>
</head>

<body>
   <div id="panorama"></div>

   <!-- Правая панель -->
   <div id="controls">
      <button id="up" aria-label="Up">
         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M7 14l5-5 5 5z" />
         </svg>
      </button>
      <button id="down" aria-label="Down">
         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M7 10l5 5 5-5z" />
         </svg>
      </button>
      <button id="left" aria-label="Left">
         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M14 7l-5 5 5 5z" />
         </svg>
      </button>
      <button id="right" aria-label="Right">
         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M10 7l5 5-5 5z" />
         </svg>
      </button>
      <button id="zoomIn">＋</button>
      <button id="zoomOut">－</button>
      <button id="fs">⛶</button>
   </div>

   <script src="https://cdn.pannellum.org/2.5/pannellum.js"></script>
   <script>
      const viewer = pannellum.viewer('panorama', {
         default: { firstScene: "day", hfov: 100, showControls: false, autoRotate: 0 },
         scenes: {
            day: { type: "equirectangular", panorama: "pano.webp", autoLoad: true }
         }
      });

      function addMobileClick(el, fn) {
         el.addEventListener('click', fn);
         el.addEventListener('touchend', e => { e.preventDefault(); fn(); });
      }

      // Панель управления
      addMobileClick(document.getElementById('up'), () => viewer.setPitch(viewer.getPitch() - 10));
      addMobileClick(document.getElementById('down'), () => viewer.setPitch(viewer.getPitch() + 10));
      addMobileClick(document.getElementById('left'), () => viewer.setYaw(viewer.getYaw() - 10));
      addMobileClick(document.getElementById('right'), () => viewer.setYaw(viewer.getYaw() + 10));
      addMobileClick(document.getElementById('zoomIn'), () => viewer.setHfov(viewer.getHfov() - 10));
      addMobileClick(document.getElementById('zoomOut'), () => viewer.setHfov(viewer.getHfov() + 10));
      addMobileClick(document.getElementById('fs'), () => {
         if (!document.fullscreenElement) { document.documentElement.requestFullscreen(); }
         else { document.exitFullscreen(); }
      });

   </script>
</body>

</html>